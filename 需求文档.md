# 团队每月运动机会管理系统 - 需求文档

## 1. 项目概述

### 1.1 项目背景
为了促进团队成员积极参与运动，提高团队健康水平，需要开发一个微信小程序来管理团队每月的运动机会。系统将帮助团队管理员分配运动机会，团队成员可以查看、使用和记录自己的运动情况。

### 1.2 项目目标
- 实现团队运动机会的统一管理和分配
- 提供便捷的运动机会使用和记录功能
- 支持运动数据的统计和报表展示
- 提升团队运动参与度和积极性

## 2. 用户角色

### 2.1 团队管理员
- 创建和管理团队
- 分配每月运动机会给团队成员
- 查看团队整体运动统计
- 管理团队成员

### 2.2 团队成员
- 查看自己的运动机会
- 使用运动机会并记录运动信息
- 查看个人运动历史记录
- 查看团队运动排行榜

## 3. 功能需求

### 3.1 用户认证模块
- **微信登录**：支持微信授权登录
- **用户信息管理**：保存用户基本信息（昵称、头像等）
- **角色识别**：区分管理员和普通成员

### 3.2 团队管理模块
- **创建团队**：管理员可以创建团队，设置团队名称、描述
- **加入团队**：成员可以通过团队ID或邀请码加入团队
- **成员管理**：管理员可以添加、移除团队成员
- **团队信息**：查看团队基本信息

### 3.3 运动机会管理模块
- **机会分配**：
  - 管理员每月可以为团队成员分配运动机会
  - 支持批量分配和单独分配
  - 设置机会有效期（默认当月有效）
- **机会查看**：
  - 成员查看自己当前可用的运动机会数量
  - 查看已使用和未使用的机会列表
  - 查看机会的分配时间、有效期
- **机会使用**：
  - 成员使用运动机会时记录运动信息
  - 必填：运动类型、运动时长、运动日期
  - 选填：运动地点、运动描述、照片
- **机会统计**：
  - 个人本月已使用/剩余机会数
  - 团队本月总使用情况

### 3.4 运动记录模块
- **记录列表**：查看个人历史运动记录
- **记录详情**：查看单次运动的详细信息
- **记录编辑**：支持修改和删除自己的运动记录（在有效期内）
- **记录筛选**：按月份、运动类型筛选记录

### 3.5 统计报表模块
- **个人统计**：
  - 本月运动次数、总时长
  - 各运动类型分布
  - 运动趋势图表
- **团队统计**：
  - 团队本月总运动次数
  - 团队成员运动排行榜
  - 团队运动类型分布
  - 团队活跃度统计

### 3.6 消息通知模块
- **系统通知**：机会分配、到期提醒等
- **团队动态**：团队成员运动动态

## 4. 非功能需求

### 4.1 性能要求
- 页面加载时间 < 2秒
- 数据操作响应时间 < 1秒
- 支持至少100人的团队规模

### 4.2 安全要求
- 用户数据加密存储
- 权限验证和访问控制
- 防止数据篡改

### 4.3 可用性要求
- 界面简洁易用
- 操作流程清晰
- 支持错误提示和引导

### 4.4 兼容性要求
- 支持微信小程序最新版本
- 适配不同尺寸手机屏幕

## 5. 数据需求

### 5.1 用户数据
- 用户ID、微信OpenID
- 昵称、头像
- 角色（管理员/成员）
- 创建时间

### 5.2 团队数据
- 团队ID、团队名称
- 团队描述
- 创建时间、创建人
- 成员列表

### 5.3 运动机会数据
- 机会ID
- 所属用户、所属团队
- 分配时间、有效期
- 使用状态（未使用/已使用）
- 关联的运动记录ID

### 5.4 运动记录数据
- 记录ID
- 用户ID、团队ID
- 运动类型、运动时长
- 运动日期、运动地点
- 运动描述、照片
- 创建时间、更新时间

## 6. 业务流程

### 6.1 团队创建流程
1. 管理员登录小程序
2. 进入"我的团队"页面
3. 点击"创建团队"
4. 填写团队信息并提交
5. 生成团队ID和邀请码
6. 分享给其他成员

### 6.2 机会分配流程
1. 管理员进入团队管理页面
2. 选择"分配机会"功能
3. 选择目标成员（可多选）
4. 设置机会数量和有效期
5. 确认分配
6. 系统发送通知给成员

### 6.3 机会使用流程
1. 成员查看可用运动机会
2. 点击"使用机会"
3. 填写运动信息（类型、时长、日期等）
4. 可选上传照片
5. 提交记录
6. 系统扣减机会数量

## 7. 界面需求

### 7.1 主要页面
- **首页**：展示个人运动概览、快速入口
- **我的团队**：团队列表、创建/加入团队
- **运动机会**：机会列表、使用机会
- **运动记录**：历史记录列表、记录详情
- **统计报表**：个人统计、团队统计
- **个人中心**：用户信息、设置

### 7.2 设计要求
- 采用现代化、简洁的设计风格
- 使用清晰的图标和色彩区分功能
- 支持深色模式（可选）
- 响应式布局适配不同屏幕

## 8. 技术约束

### 8.1 开发平台
- 微信小程序开发框架
- 支持云开发或后端API

### 8.2 数据存储
- 微信云数据库或自建数据库
- 云存储用于图片等文件

### 8.3 第三方服务
- 微信登录API
- 微信支付（如需要）

## 9. 验收标准

### 9.1 功能验收
- 所有功能模块正常运行
- 数据准确无误
- 业务流程完整

### 9.2 性能验收
- 满足性能指标要求
- 无明显卡顿和错误

### 9.3 用户体验验收
- 界面美观易用
- 操作流程顺畅
- 错误提示清晰

## 10. 后续扩展（可选）

### 10.1 功能扩展
- 运动打卡签到
- 运动目标设置
- 运动成就系统
- 社交分享功能

### 10.2 技术扩展
- 数据导出功能
- 多团队支持
- 数据可视化增强

